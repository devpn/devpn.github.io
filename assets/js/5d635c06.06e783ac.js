"use strict";(self.webpackChunklego_front_devpn=self.webpackChunklego_front_devpn||[]).push([[3634],{98354:(e,n,t)=>{t.d(n,{Z:()=>l});var s=t(86010);const a={card:"card_D5QJ",head:"head__dCx",body:"body_BFWu"};var d=t(34410),i=t(85893);function l(e){let{title:n,extra:t,headStyle:l,bodyStyle:r,style:c,loading:o,children:h,className:u}=e;return(0,i.jsxs)("div",{className:(0,s.Z)(a.card,u),style:c,children:[n||t?(0,i.jsxs)("div",{className:(0,s.Z)("space-bt",a.head),style:l,children:[(0,i.jsx)("h3",{children:n}),(0,i.jsx)("div",{children:t})]}):null,(0,i.jsx)("div",{className:a.body,style:r,children:o?(0,i.jsx)(d.Z,{}):h})]})}},77795:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var s=t(16550),a=t(42590),d=t(7442),i=t(24599),l=t(2487),r=t(15867),c=t(67294),o=t(50888),h=t(26594),u=t(39960),x=t(98354),j=t(85893);const m=20;function p(){const[e,n]=(0,c.useState)(!0),[t,s]=(0,c.useState)(!1),[a,p]=(0,c.useState)(!1),[v,g]=(0,c.useState)([]),{message:y}=(0,d.S)();(0,c.useEffect)((()=>{var e;e=m,(0,i.pV)({num:e}).then((t=>{n(!1),g(t),t.length<e&&p(!0)}))}),[]);return(0,j.jsx)(x.Z,{title:"\u4f59\u989d\u660e\u7ec6",extra:(0,j.jsx)(u.Z,{to:"/coin/shop",children:"\u5145\u503c"}),loading:e,children:(0,j.jsx)(l.Z,{rowKey:"id",loadMore:e||a?null:(0,j.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,j.jsx)(r.ZP,{onClick:()=>{s(!0),(0,i.pV)({started:v[v.length-1].created,num:m}).then((e=>{e.length<m&&p(!0);const n=v.concat(e);g(n),window.dispatchEvent(new Event("resize"))})).catch((()=>{y.error("\u52a0\u8f7d\u4e0d\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).finally((()=>{s(!1)}))},style:{paddingLeft:48,paddingRight:48},children:t?(0,j.jsxs)("span",{children:[(0,j.jsx)(o.Z,{})," \u52a0\u8f7d\u4e2d..."]}):"\u52a0\u8f7d\u66f4\u591a"})}),dataSource:v,renderItem:e=>(0,j.jsxs)(l.Z.Item,{children:[(0,j.jsx)(l.Z.Item.Meta,{title:(0,h.DM)(e.kind),description:(0,h.uq)(e.created)}),(0,j.jsxs)("div",{className:"space-v0",children:[(0,j.jsx)("strong",{title:"\u91d1\u989d",children:(0,h.zF)(e.sum,1,!0)}),(0,j.jsx)("span",{title:"\u4f59\u989d",children:(0,h.zF)(e.current_sum)})]})]})})})}var v=t(62813),g=t(34410);function y(){const{userInfo:e,inited:n}=(0,a.Pc)();return n?e&&e.name?(0,j.jsx)(v.Z,{title:`${e.nickname??e.name} \u7684\u4f59\u989d\u660e\u7ec6`,children:(0,j.jsx)("main",{children:(0,j.jsx)("div",{className:"container contain-margin",children:(0,j.jsx)(p,{})})})}):(0,j.jsx)(s.l_,{to:"/user/login"}):(0,j.jsx)(g.Z,{})}}}]);