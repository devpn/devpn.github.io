"use strict";(self.webpackChunklego_front_devpn=self.webpackChunklego_front_devpn||[]).push([[5861],{98354:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(86010);const a={card:"card_D5QJ",head:"head__dCx",body:"body_BFWu"};var l=i(34410),r=i(85893);function n(e){let{title:t,extra:i,headStyle:n,bodyStyle:c,style:f,loading:d,children:j,className:u}=e;return(0,r.jsxs)("div",{className:(0,s.Z)(a.card,u),style:f,children:[t||i?(0,r.jsxs)("div",{className:(0,s.Z)("space-bt",a.head),style:n,children:[(0,r.jsx)("h3",{children:t}),(0,r.jsx)("div",{children:i})]}):null,(0,r.jsx)("div",{className:a.body,style:c,children:d?(0,r.jsx)(l.Z,{}):j})]})}},66629:(e,t,i)=>{i.d(t,{Z:()=>l});const s={itemList:"itemList_yUgU",itemTitle:"itemTitle_SCiT"};var a=i(85893);function l(e){let{title:t,value:i}=e;return(0,a.jsxs)("div",{className:s.itemList,children:[(0,a.jsx)("div",{className:s.itemTitle,children:t},"title"),(0,a.jsx)("div",{children:i},"value")]})}},88163:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var s=i(16550),a=i(42590),l=i(62813),r=i(7442),n=i(24599),c=i(26594),f=i(67294),d=i(50888),j=i(55241),u=i(38703),x=i(2487),o=i(15867),v=i(66309),h=i(83062),m=i(98354),Z=i(67506),_=i(66629);const g={trafficRow:"trafficRow_cf1s"};var p=i(85893);const y={finished:["green","\u6b63\u5e38\u7ed3\u675f"],canceled:["","\u5df2\u53d6\u6d88"]},$=20,b={"0%":Z.Z.colors[0],"100%":Z.Z.colors[0]};function N(e){let{item:t}=e;return"old"==t.qname?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_.Z,{title:"VPN\u6d41\u91cf",value:"\u65e0\u9650\u5236"}),(0,p.jsx)(_.Z,{title:"VPN\u540c\u65f6\u5728\u7ebf",value:`${t.num}\u53f0`}),(0,p.jsx)(_.Z,{title:"\u5957\u9910\u6d41\u91cf",value:(0,c.$j)(t.traffic)}),(0,p.jsx)(_.Z,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,c.$j)(t.traffic_from)}),(0,p.jsx)(_.Z,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,c.$j)(t.traffic_buy)}),(0,p.jsx)(_.Z,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,c.$j)(t.traffic_gift)}),(0,p.jsx)(_.Z,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,c.$j)(t.proxy_traffic)}),(0,p.jsx)(_.Z,{title:"\u4ee3\u7406\u540c\u65f6\u5728\u7ebf",value:"\u65e0\u9650\u5236"})]}):"traffic"==t.qname?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_.Z,{title:"\u5957\u9910\u6d41\u91cf",value:(0,c.$j)(t.traffic)}),(0,p.jsx)(_.Z,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,c.$j)(t.traffic_from)}),(0,p.jsx)(_.Z,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,c.$j)(t.traffic_buy)}),(0,p.jsx)(_.Z,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,c.$j)(t.traffic_gift)}),(0,p.jsx)(_.Z,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,c.$j)(t.proxy_traffic+t.vpn_traffic)}),(0,p.jsx)(_.Z,{title:"\u8fde\u63a5\u6570",value:"\u65e0\u9650\u5236"}),(0,p.jsx)(_.Z,{title:"\u6d41\u91cf\u7ee7\u627f",value:t.is_inherit?"\u662f":"\u5426"}),(0,p.jsx)(_.Z,{title:"\u6309\u6708\u8ba1\u7b97\u6d41\u91cf",value:t.is_month?"\u662f":"\u5426"})]}):"unlimit"==t.qname?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_.Z,{title:"\u5957\u9910\u6d41\u91cf",value:"\u65e0\u9650\u5236"}),(0,p.jsx)(_.Z,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,c.$j)(t.traffic_from)}),(0,p.jsx)(_.Z,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,c.$j)(t.traffic_buy)}),(0,p.jsx)(_.Z,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,c.$j)(t.traffic_gift)}),(0,p.jsx)(_.Z,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,c.$j)(t.proxy_traffic+t.vpn_traffic)}),(0,p.jsx)(_.Z,{title:"\u8fde\u63a5\u6570",value:"\u65e0\u9650\u5236"}),(0,p.jsx)(_.Z,{title:"\u6d41\u91cf\u7ee7\u627f",value:t.is_inherit?"\u662f":"\u5426"}),(0,p.jsx)(_.Z,{title:"\u6309\u6708\u8ba1\u7b97\u6d41\u91cf",value:t.is_month?"\u662f":"\u5426"})]}):null}function w(e){let{item:t}=e;const[i,s]=function(e){switch(e.qname){case"old":return[e.proxy_traffic,e.traffic+e.traffic_from+e.traffic_buy+e.traffic_gift];case"traffic":return[e.proxy_traffic+e.vpn_traffic,e.traffic+e.traffic_from+e.traffic_buy+e.traffic_gift];default:return[0,0]}}(t),a=s>0?100*i/s:0,l=s>0?`${(0,c.$j)(i)} / ${(0,c.$j)(s)}`:"\u65e0\u9650\u5236";return(0,p.jsx)(j.Z,{content:(0,p.jsx)("div",{className:g.trafficRow,children:(0,p.jsx)(N,{item:t})}),children:(0,p.jsxs)("div",{className:"space-v",children:[(0,p.jsx)(u.Z,{percent:a,strokeColor:b,style:{width:180},format:()=>""}),(0,p.jsx)("span",{children:l})]})})}function S(){const[e,t]=(0,f.useState)(!0),[i,s]=(0,f.useState)(!1),[a,l]=(0,f.useState)(!1),[j,u]=(0,f.useState)([]),{message:Z,modal:_}=(0,r.S)();(0,f.useEffect)((()=>{var e;e=$,(0,n.Q6)({num:e}).then((i=>{t(!1),u(i),i.length<e&&l(!0)}))}),[]);return(0,p.jsx)(m.Z,{title:"\u5df2\u7ecf\u7ed3\u675f\u7684\u5957\u9910",extra:"\u663e\u793a\u5df2\u7ecf\u7ed3\u675f\u6216\u8005\u53d6\u6d88\u7684\u5957\u9910",loading:e,children:(0,p.jsx)(x.Z,{rowKey:"id",loadMore:e||a?null:(0,p.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,p.jsx)(o.ZP,{onClick:()=>{s(!0),(0,n.Q6)({started:j[j.length-1].created,num:$}).then((e=>{e.length<$&&l(!0);const t=j.concat(e);u(t),s(!1),window.dispatchEvent(new Event("resize"))})).catch((()=>{s(!1),Z.error("\u52a0\u8f7d\u4e0d\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))},style:{paddingLeft:48,paddingRight:48},children:i?(0,p.jsxs)("span",{children:[(0,p.jsx)(d.Z,{})," \u52a0\u8f7d\u4e2d..."]}):"\u52a0\u8f7d\u66f4\u591a"})}),dataSource:j,renderItem:e=>(0,p.jsx)(x.Z.Item,{extra:[(0,p.jsx)(w,{item:e})],children:(0,p.jsx)(x.Z.Item.Meta,{title:(0,c.rt)(e.hour),description:(0,p.jsxs)("div",{className:"space-v",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(v.Z,{color:y[e.state][0],children:y[e.state][1]})," ","finished"==e.state?`\u5f00\u59cb\u65f6\u95f4 ${(0,c.uq)(e.started)} -> \u7ed3\u675f\u65f6\u95f4 ${(0,c.uq)(e.finished)}`:`\u53d6\u6d88\u65f6\u95f4 ${(0,c.uq)(e.updated)}`]}),(0,p.jsx)(h.Z,{title:"\u521b\u5efa\u65f6\u95f4",children:(0,c.uq)(e.created)})]})})})})})}var q=i(34410);function k(){const{userInfo:e,inited:t}=(0,a.Pc)();return t?e&&e.name?(0,p.jsx)(l.Z,{title:"\u5df2\u7ecf\u7ed3\u675f\u7684\u5957\u9910",children:(0,p.jsx)("main",{children:(0,p.jsx)("div",{className:"container contain-margin",children:(0,p.jsx)(S,{})})})}):(0,p.jsx)(s.l_,{to:"/user/login"}):(0,p.jsx)(q.Z,{})}}}]);