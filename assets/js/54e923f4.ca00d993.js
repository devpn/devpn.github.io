"use strict";(self.webpackChunklego_front_devpn=self.webpackChunklego_front_devpn||[]).push([[2893],{55538:(t,e,i)=>{i.d(e,{A:()=>n});var a=i(20053);const r={card:"card_D5QJ",head:"head__dCx",body:"body_BFWu"};var s=i(14779),l=i(74848);function n(t){let{title:e,extra:i,headStyle:n,bodyStyle:c,style:f,loading:d,children:u,className:x}=t;return(0,l.jsxs)("div",{className:(0,a.A)(r.card,x),style:f,children:[e||i?(0,l.jsxs)("div",{className:(0,a.A)("space-bt",r.head),style:n,children:[(0,l.jsx)("h3",{children:e}),(0,l.jsx)("div",{children:i})]}):null,(0,l.jsx)("div",{className:r.body,style:c,children:d?(0,l.jsx)(s.A,{}):u})]})}},67072:(t,e,i)=>{i.d(e,{A:()=>s});const a={itemList:"itemList_yUgU",itemTitle:"itemTitle_SCiT"};var r=i(74848);function s(t){let{title:e,value:i}=t;return(0,r.jsxs)("div",{className:a.itemList,children:[(0,r.jsx)("div",{className:a.itemTitle,children:e},"title"),(0,r.jsx)("div",{children:i},"value")]})}},90522:(t,e,i)=>{i.r(e),i.d(e,{default:()=>E});var a=i(56347),r=i(79700),s=i(44622),l=i(78954),n=i(79791),c=i(26771),f=i(96540),d=i(209),u=i(28073),x=i(43907),o=i(86529),j=i(75147),v=i(46654),h=i(88826),_=i(55538),m=i(47082),A=i(67072);const p={trafficRow:"trafficRow_cf1s"};var y=i(74848);const g={finished:["green","\u6b63\u5e38\u7ed3\u675f"],canceled:["","\u5df2\u53d6\u6d88"]},q=20,I={"0%":m.A.colors[0],"100%":m.A.colors[0]};function w(t){let{item:e}=t;return"old"==e.qname?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.A,{title:"VPN\u6d41\u91cf",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"VPN\u540c\u65f6\u5728\u7ebf",value:`${e.num}\u53f0`}),(0,y.jsx)(A.A,{title:"\u5957\u9910\u6d41\u91cf",value:(0,c.qI)(e.traffic)}),(0,y.jsx)(A.A,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,c.qI)(e.traffic_from)}),(0,y.jsx)(A.A,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,c.qI)(e.traffic_buy)}),(0,y.jsx)(A.A,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,c.qI)(e.traffic_gift)}),(0,y.jsx)(A.A,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,c.qI)((e.proxy_traffic||0)+(e.proxy_traffic_up||0))}),(0,y.jsx)(A.A,{title:"\u4ee3\u7406\u540c\u65f6\u5728\u7ebf",value:"\u65e0\u9650\u5236"})]}):"traffic"==e.qname?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.A,{title:"\u5957\u9910\u6d41\u91cf",value:(0,c.qI)(e.traffic)}),(0,y.jsx)(A.A,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,c.qI)(e.traffic_from)}),(0,y.jsx)(A.A,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,c.qI)(e.traffic_buy)}),(0,y.jsx)(A.A,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,c.qI)(e.traffic_gift)}),(0,y.jsx)(A.A,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,c.qI)((e.proxy_traffic||0)+(e.proxy_traffic_up||0)+(e.vpn_traffic||0)+(e.vpn_traffic_up||0))}),(0,y.jsx)(A.A,{title:"\u8fde\u63a5\u6570",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u6d41\u91cf\u7ee7\u627f",value:e.is_inherit?"\u662f":"\u5426"}),(0,y.jsx)(A.A,{title:"\u6309\u6708\u8ba1\u7b97\u6d41\u91cf",value:e.is_month?"\u662f":"\u5426"})]}):"unlimit"==e.qname?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.A,{title:"\u5957\u9910\u6d41\u91cf",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,c.qI)(e.traffic_from)}),(0,y.jsx)(A.A,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,c.qI)(e.traffic_buy)}),(0,y.jsx)(A.A,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,c.qI)(e.traffic_gift)}),(0,y.jsx)(A.A,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,c.qI)((e.proxy_traffic||0)+(e.proxy_traffic_up||0)+(e.vpn_traffic||0)+(e.vpn_traffic_up||0))}),(0,y.jsx)(A.A,{title:"\u8fde\u63a5\u6570",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u6d41\u91cf\u7ee7\u627f",value:e.is_inherit?"\u662f":"\u5426"}),(0,y.jsx)(A.A,{title:"\u6309\u6708\u8ba1\u7b97\u6d41\u91cf",value:e.is_month?"\u662f":"\u5426"})]}):null}function b(t){let{item:e}=t;const[i,a]=function(t){switch(t.qname){case"old":return[(t.proxy_traffic||0)+(t.proxy_traffic_up||0),t.traffic+t.traffic_from+t.traffic_buy+t.traffic_gift];case"traffic":return[(t.proxy_traffic||0)+(t.proxy_traffic_up||0)+(t.vpn_traffic||0)+(t.vpn_traffic_up||0),t.traffic+t.traffic_from+t.traffic_buy+t.traffic_gift];default:return[0,0]}}(e),r=a>0?100*i/a:0,s=a>0?`${(0,c.qI)(i)} / ${(0,c.qI)(a)}`:"\u65e0\u9650\u5236";return(0,y.jsx)(u.A,{content:(0,y.jsx)("div",{className:p.trafficRow,children:(0,y.jsx)(w,{item:e})}),children:(0,y.jsxs)("div",{className:"space-v",children:[(0,y.jsx)(x.A,{percent:r,strokeColor:I,style:{width:180},format:()=>""}),(0,y.jsx)("span",{children:s})]})})}function N(){const[t,e]=(0,f.useState)(!0),[i,a]=(0,f.useState)(!1),[r,s]=(0,f.useState)(!1),[u,x]=(0,f.useState)([]),{message:m,modal:A}=(0,l.x)();(0,f.useEffect)((()=>{var t;t=q,(0,n.p9)({num:t}).then((i=>{e(!1),x(i),i.length<t&&s(!0)}))}),[]);return(0,y.jsx)(_.A,{title:"\u5df2\u7ecf\u7ed3\u675f\u7684\u5957\u9910",extra:"\u663e\u793a\u5df2\u7ecf\u7ed3\u675f\u6216\u8005\u53d6\u6d88\u7684\u5957\u9910",loading:t,children:(0,y.jsx)(o.A,{rowKey:"id",loadMore:t||r?null:(0,y.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,y.jsx)(j.Ay,{onClick:()=>{a(!0),(0,n.p9)({started:u[u.length-1].created,num:q}).then((t=>{t.length<q&&s(!0);const e=u.concat(t);x(e),a(!1),window.dispatchEvent(new Event("resize"))})).catch((()=>{a(!1),m.error("\u52a0\u8f7d\u4e0d\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))},style:{paddingLeft:48,paddingRight:48},children:i?(0,y.jsxs)("span",{children:[(0,y.jsx)(d.A,{})," \u52a0\u8f7d\u4e2d..."]}):"\u52a0\u8f7d\u66f4\u591a"})}),dataSource:u,renderItem:t=>(0,y.jsx)(o.A.Item,{extra:[(0,y.jsx)(b,{item:t})],children:(0,y.jsx)(o.A.Item.Meta,{title:(0,c.f4)(t.hour),description:(0,y.jsxs)("div",{className:"space-v",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(v.A,{color:g[t.state][0],children:g[t.state][1]})," ","finished"==t.state?`\u5f00\u59cb\u65f6\u95f4 ${(0,c.Ew)(t.started)} -> \u7ed3\u675f\u65f6\u95f4 ${(0,c.Ew)(t.finished)}`:`\u53d6\u6d88\u65f6\u95f4 ${(0,c.Ew)(t.updated)}`]}),(0,y.jsx)(h.A,{title:"\u521b\u5efa\u65f6\u95f4",children:(0,c.Ew)(t.created)})]})})})})})}var S=i(14779);function E(){const{userInfo:t,inited:e}=(0,r.Py)();return e?t&&t.name?(0,y.jsx)(s.A,{title:"\u5df2\u7ecf\u7ed3\u675f\u7684\u5957\u9910",children:(0,y.jsx)("main",{children:(0,y.jsx)("div",{className:"container contain-margin",children:(0,y.jsx)(N,{})})})}):(0,y.jsx)(a.rd,{to:"/user/login"}):(0,y.jsx)(S.A,{})}}}]);