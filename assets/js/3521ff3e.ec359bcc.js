"use strict";(self.webpackChunklego_front_devpn=self.webpackChunklego_front_devpn||[]).push([[7652],{46190:(e,s,t)=>{t.d(s,{A:()=>B,C:()=>V});var n=t(56289),i=t(78954),l=t(79700),r=t(79791),a=t(26771),c=t(56952),o=t(75147),d=t(88826),x=t(28073),h=t(86048),j=t(68936),u=t(86830),m=t(96540);const f={container:"container_lAfw",trojanItem:"trojanItem_db0P",icon:"icon_QnTj",projectGrid:"projectGrid_nQkr"};var A=t(2188),p=t(43229),v=t(79295),y=t(20053),g=t(14779),b=t(38741),_=t(30412),w=t(74848);function C(e){let{style:s,onChange:t}=e;const{userInfo:n,setUserInfo:a}=(0,l.Py)(),[c,d]=(0,m.useState)(!1),[x,h]=(0,m.useState)(!1),{message:j}=(0,i.x)();return n?c?(0,w.jsxs)("div",{className:"space-bt",style:s,children:[(0,w.jsxs)(b.A,{layout:"inline",initialValues:{new_pwd:n.combo_pwd},onFinish:e=>{let{new_pwd:s}=e;n.combo_pwd!=s?(h(!0),(0,r.LZ)({new_pwd:s}).then((()=>{j.success("\u8fde\u63a5\u5bc6\u7801\u66f4\u65b0\u6210\u529f\uff0c\u8bf7\u4f7f\u7528\u65b0\u5bc6\u7801\u914d\u7f6e"),t&&t(s),a({...n,combo_pwd:s}),d(!1)})).catch((()=>{j.error("\u8fde\u63a5\u5bc6\u7801\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).finally((()=>{h(!1)}))):d(!1)},children:[(0,w.jsx)(b.A.Item,{name:"new_pwd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8fde\u63a5\u5bc6\u7801"},{pattern:/^\w{4,24}$/,message:"\u8fde\u63a5\u5bc6\u7801\u53ea\u80fd\u662f\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u957f\u5ea6 4 \u5230 24 \u4f4d"}],children:(0,w.jsx)(_.A,{placeholder:"\u8fde\u63a5\u5bc6\u7801",style:{width:"130px"}})}),(0,w.jsx)(b.A.Item,{children:(0,w.jsx)(o.Ay,{type:"primary",htmlType:"submit",loading:x,children:"\u786e\u5b9a"})})]}),(0,w.jsx)(o.Ay,{onClick:()=>{d(!1)},children:"\u53d6\u6d88"})]}):(0,w.jsxs)("div",{className:"space-bt",style:s,children:[(0,w.jsx)("strong",{style:{fontSize:"1.5rem"},children:n.combo_pwd}),(0,w.jsx)(o.Ay,{onClick:()=>{d(!0)},children:"\u4fee\u6539"})]}):null}var N=t(43014),k=t(90139),I=t(48217),S=t(47152),q=t(16370);const{TextArea:E}=_.A;function P(e){let{open:s,onCancel:t}=e;const{userInfo:n}=(0,l.Py)(),[a,c]=(0,m.useState)(!0),[o,d]=(0,m.useState)(!1),[x,h]=(0,m.useState)({}),{message:j}=(0,i.x)();(0,m.useEffect)((()=>{n&&s?(c(!0),(0,r.HN)().then((e=>{const s={};for(const t in e){const n=e[t];if(!n||"string"!=typeof n)continue;let i;const l={};for(const e of n.split("\n"))if(/^\S+:$/.test(e))i=e.replace(":","");else if(/^\s+-\s+/.test(e)){const s=e.replace(/^\s+-\s+/,"");l[i]?l[i].push(s):l[i]=[s]}Object.keys(l).length>0&&(s[t]=l)}h(s)})).finally((()=>{c(!1)}))):h({})}),[n,s]);return(0,w.jsxs)(u.A,{title:"\u7f16\u8f91\u6211\u7684\u5206\u6d41\u89c4\u5219",open:s,onOk:()=>{d(!0);const e={};for(const s in x){const t=x[s];if(!t||0==Object.keys(t).length)continue;const n=[];for(const e in t){const s=t[e],i=[];for(const e of s){const s=e.trim().toLowerCase().replace(/^\S+:\/\//,"").replace(/^\W+/,"").replace(/\W+$/,"");s&&i.push("  - "+s)}i.length>0&&(n.push(e+":"),n.push(...i))}n.length>0&&(e[s]=n.join("\n"))}(0,r.cZ)(e).then((()=>{j.success("\u4fdd\u5b58\u5206\u6d41\u89c4\u5219\u6210\u529f\uff0c\u8bf7\u66f4\u65b0 Clash \u6216 SingBox \u8f6f\u4ef6\u7684\u8ba2\u9605\u94fe\u63a5"),t()})).catch((()=>{j.error("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).finally((()=>{d(!1)}))},confirmLoading:o,onCancel:t,width:800,destroyOnClose:!0,maskClosable:!1,children:[(0,w.jsxs)("p",{children:["\u8bf7\u5728 ",(0,w.jsx)("b",{children:"\u62d2\u7edd"})," \uff0c",(0,w.jsx)("b",{children:"\u76f4\u8fde"})," \u6216 ",(0,w.jsx)("b",{children:"\u4ee3\u7406"})," ","\u9009\u9879\u5361\u4e0b\u586b\u5199\u76f8\u5e94\u7684\u89c4\u5219\uff0c\u6bcf\u884c\u4e00\u6761\u89c4\u5219;",(0,w.jsx)("br",{}),"\u53ea\u9700\u8981\u586b\u5199\u5b8c\u6574\u57df\u540d\u6216\u8005\u90e8\u5206\u57df\u540d\uff0c\u5982 ",(0,w.jsx)("b",{children:"abc.com"}),(0,w.jsx)("br",{}),"\u89c4\u5219\u66f4\u6539\u540e\u9700\u8981\u5230\u8fde\u63a5\u8f6f\u4ef6\u91cc\u5237\u65b0\u8ba2\u9605\u94fe\u63a5\u624d\u4f1a\u751f\u6548\uff1b",(0,w.jsx)("br",{}),"\u6ce8\u610f\uff1a\u6211\u7684\u5206\u6d41\u89c4\u5219\u76ee\u524d\u53ea\u652f\u6301 Clash\u3001Singbox \u548c Karing\uff1b",(0,w.jsx)("br",{}),"\u90e8\u5206\u8f6f\u4ef6\u5982 Hiddify\u3001V2rayN, Shadowrocket \u7b49\u6682\u65f6\u8fd8\u4e0d\u652f\u6301\u3002"]}),a?(0,w.jsx)(g.A,{}):(0,w.jsx)(I.A,{defaultActiveKey:"reject",items:[{key:"reject",label:"\u62d2\u7edd",children:(0,w.jsxs)(S.A,{gutter:8,children:[(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u5b8c\u6574\u57df\u540d"}),(0,w.jsx)(E,{rows:15,value:x?.reject?.domain?.join("\n"),onChange:e=>{const s={...x.reject,domain:e.target.value.split("\n")};h({...x,reject:s})}})]}),(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u57df\u540d\u540e\u7f00"}),(0,w.jsx)(E,{rows:15,value:x?.reject?.domain_suffix?.join("\n"),onChange:e=>{const s={...x.reject,domain_suffix:e.target.value.split("\n")};h({...x,reject:s})}})]}),(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u57df\u540d\u5173\u952e\u5b57"}),(0,w.jsx)(E,{rows:15,value:x?.reject?.domain_keyword?.join("\n"),onChange:e=>{const s={...x.reject,domain_keyword:e.target.value.split("\n")};h({...x,reject:s})}})]})]})},{key:"direct",label:"\u76f4\u8fde",children:(0,w.jsxs)(S.A,{gutter:8,children:[(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u5b8c\u6574\u57df\u540d"}),(0,w.jsx)(E,{rows:15,value:x?.direct?.domain?.join("\n"),onChange:e=>{const s={...x.direct,domain:e.target.value.split("\n")};h({...x,direct:s})}})]}),(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u57df\u540d\u540e\u7f00"}),(0,w.jsx)(E,{rows:15,value:x?.direct?.domain_suffix?.join("\n"),onChange:e=>{const s={...x.direct,domain_suffix:e.target.value.split("\n")};h({...x,direct:s})}})]}),(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u57df\u540d\u5173\u952e\u5b57"}),(0,w.jsx)(E,{rows:15,value:x?.direct?.domain_keyword?.join("\n"),onChange:e=>{const s={...x.direct,domain_keyword:e.target.value.split("\n")};h({...x,direct:s})}})]})]})},{key:"proxy",label:"\u4ee3\u7406",children:(0,w.jsxs)(S.A,{gutter:8,children:[(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u5b8c\u6574\u57df\u540d"}),(0,w.jsx)(E,{rows:15,value:x?.proxy?.domain?.join("\n"),onChange:e=>{const s={...x.proxy,domain:e.target.value.split("\n")};h({...x,proxy:s})}})]}),(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u57df\u540d\u540e\u7f00"}),(0,w.jsx)(E,{rows:15,value:x?.proxy?.domain_suffix?.join("\n"),onChange:e=>{const s={...x.proxy,domain_suffix:e.target.value.split("\n")};h({...x,proxy:s})}})]}),(0,w.jsxs)(q.A,{span:8,children:[(0,w.jsx)("h4",{children:"\u57df\u540d\u5173\u952e\u5b57"}),(0,w.jsx)(E,{rows:15,value:x?.proxy?.domain_keyword?.join("\n"),onChange:e=>{const s={...x.proxy,domain_keyword:e.target.value.split("\n")};h({...x,proxy:s})}})]})]})}]})]})}var T=t(21676),L=t(23412);const $=[{value:"clash",label:"Clash",children:[{value:"auto",label:"\u6700\u65b0\u7248\u672c"},{value:"v3",label:"V3 \u7248\u672c"},{value:"v2",label:"V2 \u7248\u672c"}]},{value:"singbox",label:"SingBox",children:[{value:"auto",label:"\u6700\u65b0\u7248\u672c"},{value:"v3",label:"V3 \u7248\u672c"},{value:"v2",label:"V2 \u7248\u672c"}]},{value:"v2ray",label:"V2ray",children:[{value:"auto",label:"\u6700\u65b0\u7248\u672c"},{value:"v1",label:"V1 \u7248\u672c"}]}];function G(){const[e,s]=(0,m.useState)(["clash","auto"]);return(0,w.jsx)(T.A,{items:[{key:"1",label:"\u56fa\u5b9a\u8ba2\u9605\u94fe\u63a5",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{children:"\u9488\u5bf9\u7cfb\u7edf\u65e0\u6cd5\u6b63\u786e\u5224\u65ad\u8ba2\u9605\u94fe\u63a5\u7c7b\u578b\u7684\u8fde\u63a5\u8f6f\u4ef6\uff0c\u8bf7\u9009\u62e9\u5bf9\u5e94\u7684\u8f6f\u4ef6\u548c\u8ba2\u9605\u94fe\u63a5\u7248\u672c\u53f7\uff1a"}),(0,w.jsxs)("p",{className:"space-bt",children:[(0,w.jsx)(L.A,{allowClear:!1,options:$,defaultValue:e,onChange:e=>{s([...e])}}),(0,w.jsx)(k.A,{size:"middle",type:"default",rule:e.join("/")})]}),(0,w.jsxs)("p",{children:["\u5efa\u8bae\u4f18\u5148\u9009\u62e9\u6700\u65b0\u7248\u672c\u8ba2\u9605\u94fe\u63a5\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u7684\u8fde\u63a5\u8f6f\u4ef6\u8fd8\u4e0d\u652f\u6301\u67d0\u4e9b\u65b0\u7279\u5f81\uff1b",(0,w.jsx)("br",{}),"\u6709\u6761\u4ef6\u7684\u8bdd\u5148\u5347\u7ea7\u8fde\u63a5\u8f6f\u4ef6\uff0c\u5b9e\u5728\u6ca1\u6709\u529e\u6cd5\u518d\u9009\u62e9\u4f4e\u7248\u672c\u7684\u8ba2\u9605\u94fe\u63a5\u3002",(0,w.jsx)("br",{}),"v2ray \u683c\u5f0f\u7684\u8ba2\u9605\u94fe\u63a5\u53ea\u5305\u542b\u8282\u70b9\u4fe1\u606f\uff0c\u6ca1\u6709\u5206\u6d41\u89c4\u5219\u4fe1\u606f\u3002",(0,w.jsx)("br",{}),"\u6ce8\u610f\uff1a\u56fd\u5bb6\u9632\u706b\u5899 GFW \u5347\u7ea7\u4f1a\u5bfc\u81f4\u4f4e\u7248\u672c\u7684\u8ba2\u9605\u94fe\u63a5\u5931\u6548\u65e0\u6cd5\u4f7f\u7528\uff0c\u8bf7\u5b9a\u671f\u66f4\u65b0\u8ba2\u9605\u94fe\u63a5\u3002"]})]})}]})}const R=[{key:"rule",tab:"\u8ba2\u9605\u94fe\u63a5"},{key:"ocnt",tab:"AnyConnect"},{key:"pptp",tab:"PPTP"}];function V(e,s){if(!s.proto)return s.domain;const t=new RegExp(e+":(\\d+)","i"),n=s.proto.match(t);return!n||n.length<2?s.domain:"ocnt"===e?"443"!=n[1]?s.domain+":"+n[1]:s.domain:s.domain+":"+n[1]}function B(){const{userInfo:e,updateUserInfo:s}=(0,l.Py)(),[t,b]=(0,m.useState)("rule"),[_,I]=(0,m.useState)(!1),[S,q]=(0,m.useState)(!1),[E,T]=(0,m.useState)({}),{message:L,modal:$}=(0,i.x)();return(0,m.useEffect)((()=>{var e,s;"rule"===(e=t)||E[e]&&!s||(0,r.pX)(e).then((s=>{E[e]=s,T({...E})})).catch((()=>{E[e]=[],T({...E})}))}),[e,t]),e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.A,{title:"\u8ba2\u9605\u94fe\u63a5\u548c\u8282\u70b9\u5217\u8868",extra:(0,w.jsxs)("div",{className:"space",children:[(0,w.jsx)(n.A,{to:"/docs/start/",children:"\u4f7f\u7528\u6559\u7a0b"}),(0,w.jsx)(o.Ay,{onClick:()=>{I(!0)},children:"\u8fde\u63a5\u5bc6\u7801"})]}),bodyStyle:{padding:0},tabList:R,activeTabKey:t,onTabChange:e=>{b(e)},children:"rule"==t?(0,w.jsxs)("div",{className:f.container,children:[(0,w.jsx)(k.A,{size:"middle"}),(0,w.jsxs)("p",{style:{marginTop:20},children:["\u5982\u679c\u4e0a\u9762\u7684\u914d\u7f6e\u8ba2\u9605\u94fe\u63a5\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\uff0c\u6709\u4ee5\u4e0b\u539f\u56e0\uff1a",(0,w.jsx)("br",{}),"1. \u8fde\u63a5\u8f6f\u4ef6\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7",(0,w.jsx)(n.A,{to:"/docs/start/",children:"\u53c2\u8003\u6559\u7a0b"}),"\u4e0b\u8f7d\u65b0\u7684\u8f6f\u4ef6\u66ff\u6362\u5b89\u88c5\u3002",(0,w.jsx)("br",{}),"2. \u8fde\u63a5\u8f6f\u4ef6\u6211\u4eec\u8fd8\u6ca1\u6709\u9002\u914d\uff0c\u8bf7\u63d0\u4f9b\u60a8\u4f7f\u7528\u7684",(0,w.jsx)(n.A,{to:"/ticket/new",children:"\u8f6f\u4ef6\u540d\u79f0\u548c\u7248\u672c\u53f7"}),"\uff0c\u6211\u4eec\u5c06\u5c3d\u53ef\u80fd\u8fdb\u884c\u9002\u914d\u3002",(0,w.jsx)("br",{}),"3. \u7f51\u7edc\u539f\u56e0\uff0c\u8ba2\u9605\u94fe\u63a5\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\uff0c\u8bf7\u4f7f\u7528\u5907\u7528\u7684\u8ba2\u9605\u94fe\u63a5\u4ee3\u66ff\uff0c\u6216\u8005",(0,w.jsx)(n.A,{to:"/ticket/new",children:"\u8054\u7cfb\u6211\u4eec"}),"\u3002"]}),(0,w.jsxs)("p",{children:["\u5982\u679c\u6211\u4eec\u7684\u89c4\u5219\u96c6\u65e0\u6cd5\u6ee1\u8db3\u60a8\u7684\u8981\u6c42\uff0c\u540c\u65f6\u60a8\u6e05\u695a\u5206\u6d41\u89c4\u5219\u539f\u7406\uff0c\u8bf7"," ",(0,w.jsx)(o.Ay,{icon:(0,w.jsx)(A.A,{}),onClick:()=>{q(!0)},children:"\u7f16\u8f91\u6211\u7684\u5206\u6d41\u89c4\u5219"})]}),(0,w.jsx)(G,{})]}):E[t]?E[t].length>0?E[t].map((e=>(0,w.jsxs)(c.A.Grid,{className:f.projectGrid,children:[(0,w.jsxs)("div",{className:"space",children:[(0,w.jsx)(N.k,{className:(0,y.A)("icon",f.icon),src:`/flag/${e.area}.svg`}),(0,w.jsx)("h5",{style:{marginBottom:0},children:`${a.i1[e.area]} ${e.domain.split(".")[0].toUpperCase()}${e.rate>1?` (${e.rate}\u500d\u7387)`:""}`})]}),(0,w.jsx)("p",{style:{wordBreak:"break-all",marginBottom:"12px"},children:V(t,e)}),(0,w.jsxs)("div",{className:"space",children:[(0,w.jsx)(d.A,{title:"\u70b9\u51fb\u590d\u5236\u5730\u5740\u5230\u526a\u8d34\u677f",children:(0,w.jsx)(o.Ay,{icon:(0,w.jsx)(p.A,{}),onClick:()=>{const s=V(t,e);(0,a.lW)(s).then((()=>{L.success("\u590d\u5236\u5730\u5740\u6210\u529f")})).catch((()=>{$.info({title:"\u590d\u5236\u4e0d\u6210\u529f\uff0c\u8bf7\u624b\u52a8\u590d\u5236\u4e0b\u9762\u7684\u5185\u5bb9",content:s})}))},children:"\u590d\u5236"})}),(0,w.jsx)(x.A,{overlayInnerStyle:{padding:0},content:(0,w.jsx)(h.A,{value:V(t,e)}),children:(0,w.jsx)(v.A,{})})]})]},e.domain))):(0,w.jsx)(j.A,{image:j.A.PRESENTED_IMAGE_SIMPLE,description:"\u6ca1\u6709\u53ef\u7528\u7684\u8282\u70b9",style:{marginTop:20,marginBottom:20}}):(0,w.jsx)(g.A,{})}),(0,w.jsxs)(u.A,{title:"\u8fde\u63a5\u5bc6\u7801",open:_,footer:null,destroyOnClose:!0,maskClosable:!1,onCancel:()=>I(!1),children:[(0,w.jsx)(C,{style:{margin:"12px 0"},onChange:()=>{s(),T({})}}),(0,w.jsxs)("p",{children:["\u7528\u6237\u540d\uff1a",(0,w.jsx)("b",{children:e?.name})]}),(0,w.jsxs)("p",{children:["\u6ce8\u610f\uff1a\u4e0d\u540c\u7684\u8fde\u63a5\u534f\u8bae\u914d\u7f6e\u65b9\u5f0f\u4e0d\u4e00\u6837\uff0c\u8be6\u7ec6\u8fde\u63a5\u65b9\u6cd5\u8bf7\u53c2\u8003",(0,w.jsx)(n.A,{to:"/docs/start/",children:"\u4f7f\u7528\u6559\u7a0b"}),"\uff1b\u4fee\u6539\u8fde\u63a5\u5bc6\u7801\u540e\u6240\u6709\u8fde\u63a5\u534f\u8bae\u90fd\u8981\u4f7f\u7528\u65b0\u7684\u8fde\u63a5\u5bc6\u7801\u91cd\u65b0\u914d\u7f6e\u3002"]})]}),(0,w.jsx)(P,{open:S,onCancel:()=>q(!1)})]}):(0,w.jsx)("div",{children:"\u67e5\u770b\u8ba2\u9605\u94fe\u63a5\u548c\u8282\u70b9\u5217\u8868\uff0c\u8bf7\u5148\u767b\u5f55"})}},55538:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(20053);const i={card:"card_D5QJ",head:"head__dCx",body:"body_BFWu"};var l=t(14779),r=t(74848);function a(e){let{title:s,extra:t,headStyle:a,bodyStyle:c,style:o,loading:d,children:x,className:h}=e;return(0,r.jsxs)("div",{className:(0,n.A)(i.card,h),style:o,children:[s||t?(0,r.jsxs)("div",{className:(0,n.A)("space-bt",i.head),style:a,children:[(0,r.jsx)("h3",{children:s}),(0,r.jsx)("div",{children:t})]}):null,(0,r.jsx)("div",{className:i.body,style:c,children:d?(0,r.jsx)(l.A,{}):x})]})}},67072:(e,s,t)=>{t.d(s,{A:()=>l});const n={itemList:"itemList_yUgU",itemTitle:"itemTitle_SCiT"};var i=t(74848);function l(e){let{title:s,value:t}=e;return(0,i.jsxs)("div",{className:n.itemList,children:[(0,i.jsx)("div",{className:n.itemTitle,children:s},"title"),(0,i.jsx)("div",{children:t},"value")]})}},76091:(e,s,t)=>{t.d(s,{A:()=>_});var n=t(79791),i=t(26771),l=t(28073),r=t(84423),a=t(56318),c=t(75147),o=t(1825),d=t(49771),x=t(78954),h=t(56347);const j={comboTitle:"comboTitle_mST9",comboRow:"comboRow_nWUA",comboAction:"comboAction_Qqfx",trafficRow:"trafficRow_Kj5Q"};var u=t(52362),m=t(96540),f=t(56289),A=t(67072),p=t(20053),v=t(79700),y=t(74848);const g=6048e5;function b(e){let{item:s}=e;if("old"==s.qname){const e=(0,i.It)(s);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.A,{title:"VPN\u6d41\u91cf",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"VPN\u540c\u65f6\u5728\u7ebf",value:`${s.num}\u53f0`}),(0,y.jsx)(A.A,{title:(0,y.jsxs)(l.A,{content:(0,y.jsxs)("div",{className:j.trafficRow,children:[(0,y.jsx)(A.A,{title:"\u5957\u9910\u6d41\u91cf",value:(0,i.qI)(s.traffic)}),(0,y.jsx)(A.A,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,i.qI)(s.traffic_from)}),(0,y.jsx)(A.A,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,i.qI)(s.traffic_buy)}),(0,y.jsx)(A.A,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,i.qI)(s.traffic_gift)}),(0,y.jsx)(A.A,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,i.qI)(s.proxy_traffic+(s.proxy_traffic_up||0))})]}),children:["\u53ef\u7528\u4ee3\u7406\u6d41\u91cf",(0,y.jsx)(o.A,{style:{color:"rgba(0, 0, 0, 0.43)",marginLeft:4}})]}),value:e>0?(0,i.qI)(e):"\u65e0\u53ef\u7528\u6d41\u91cf"}),(0,y.jsx)(A.A,{title:"\u4ee3\u7406\u540c\u65f6\u5728\u7ebf",value:"\u65e0\u9650\u5236"})]})}if("traffic"==s.qname){const e=(0,i.It)(s);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.A,{title:(0,y.jsxs)(l.A,{content:(0,y.jsxs)("div",{className:j.trafficRow,children:[(0,y.jsx)(A.A,{title:"\u5957\u9910\u6d41\u91cf",value:(0,i.qI)(s.traffic)}),(0,y.jsx)(A.A,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,i.qI)(s.traffic_from)}),(0,y.jsx)(A.A,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,i.qI)(s.traffic_buy)}),(0,y.jsx)(A.A,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,i.qI)(s.traffic_gift)}),(0,y.jsx)(A.A,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,i.qI)((s.proxy_traffic||0)+(s.proxy_traffic_up||0)+(s.vpn_traffic||0)+(s.vpn_traffic_up||0))})]}),children:["\u53ef\u7528\u6d41\u91cf",(0,y.jsx)(o.A,{style:{marginLeft:4}})]}),value:e>0?(0,i.qI)(e):"\u65e0\u53ef\u7528\u6d41\u91cf"}),(0,y.jsx)(A.A,{title:"\u8fde\u63a5\u6570",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u6d41\u91cf\u7ee7\u627f",value:s.is_inherit?"\u662f":"\u5426"}),(0,y.jsx)(A.A,{title:"\u6309\u6708\u8ba1\u7b97\u6d41\u91cf",value:s.is_month?"\u662f":"\u5426"})]})}return"unlimit"==s.qname?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.A,{title:(0,y.jsxs)(l.A,{content:(0,y.jsxs)("div",{className:j.trafficRow,children:[(0,y.jsx)(A.A,{title:"\u5957\u9910\u6d41\u91cf",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u7ee7\u627f\u6d41\u91cf",value:(0,i.qI)(s.traffic_from)}),(0,y.jsx)(A.A,{title:"\u8d2d\u4e70\u6d41\u91cf",value:(0,i.qI)(s.traffic_buy)}),(0,y.jsx)(A.A,{title:"\u8d60\u9001\u6d41\u91cf",value:(0,i.qI)(s.traffic_gift)}),(0,y.jsx)(A.A,{title:"\u5df2\u4f7f\u7528\u6d41\u91cf",value:(0,i.qI)((s.proxy_traffic||0)+(s.proxy_traffic_up||0)+(s.vpn_traffic||0)+(s.vpn_traffic_up||0))})]}),children:["\u53ef\u7528\u6d41\u91cf",(0,y.jsx)(o.A,{style:{marginLeft:4}})]}),value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u8fde\u63a5\u6570",value:"\u65e0\u9650\u5236"}),(0,y.jsx)(A.A,{title:"\u6d41\u91cf\u7ee7\u627f",value:s.is_inherit?"\u662f":"\u5426"}),(0,y.jsx)(A.A,{title:"\u6309\u6708\u8ba1\u7b97\u6d41\u91cf",value:s.is_month?"\u662f":"\u5426"})]}):null}function _(e){let{item:s,last:t,run:l,del:o}=e;const{userInfo:_,updateUserInfo:w}=(0,v.Py)(),{modal:C,message:N}=(0,x.x)(),[k,I]=(0,m.useState)(-1),S=(0,h.W6)(),q=()=>{if(t&&s.started>0&&s.finished>0&&(!s.renew||s.sum>_.coin)){const e=+new Date;if(s.finished<e+g)return void I(Math.max(s.finished-e,0))}-1!=k&&I(-1)};(0,m.useEffect)((()=>{q();const e=setInterval(q,1e3);return()=>{clearInterval(e)}}),[s,t]);return(0,y.jsxs)(r.A.Ribbon,{text:s.started?"\u4f7f\u7528\u4e2d":"\u8fd8\u672a\u542f\u7528",color:s.started?"green":"gray",children:[(0,y.jsx)("h3",{className:j.comboTitle,children:(0,i.f4)(s.hour)}),(0,y.jsxs)("div",{className:j.comboRow,children:[(0,y.jsx)(A.A,{title:"\u521b\u5efa\u65f6\u95f4",value:(0,i.Ew)(s.created)}),(0,y.jsx)(A.A,{title:"\u5f00\u59cb\u65f6\u95f4",value:(0,i.Ew)(s.started,"\u8fd8\u672a\u5f00\u59cb")}),(0,y.jsx)(A.A,{title:"\u5230\u671f\u65f6\u95f4",value:(0,i.Ew)(s.finished)}),(0,y.jsx)(b,{item:s}),(0,y.jsx)(A.A,{title:"\u81ea\u52a8\u7eed\u8d39",value:(0,y.jsx)(a.A,{disabled:s.sum<=0,defaultChecked:!!s.renew,checkedChildren:"\u5f00",unCheckedChildren:"\u5173",onChange:e=>{(0,n.s2)(s.id,e).then((()=>{s.renew=e,i.IG.remove(i.LN.comboList),q(),N.success(e?"\u8bbe\u7f6e\u81ea\u52a8\u7eed\u8d39\u6210\u529f":"\u53d6\u6d88\u81ea\u52a8\u7eed\u8d39\u6210\u529f")})).catch((()=>{N.error("\u8bbe\u7f6e\u4e0d\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}})})]}),(0,i.It)(s)<0?(0,y.jsx)(u.A,{type:"warning",children:"\u5df2\u7ecf\u6ca1\u6709\u53ef\u7528\u6d41\u91cf\uff0c\u90e8\u5206\u534f\u8bae\u53ef\u80fd\u4f1a\u8fde\u63a5\u4e0d\u6210\u529f\u3002"}):null,k>0?(0,y.jsxs)(u.A,{type:"warning",children:["\u5957\u9910\u8ddd\u79bb\u7ed3\u675f\u8fd8\u5269 ",(0,y.jsx)("strong",{children:(0,i.Sl)(k)}),"\uff0c\u4e3a\u4e86\u907f\u514d\u670d\u52a1\u4e2d\u65ad\uff0c\u5efa\u8bae",(0,y.jsx)(f.A,{to:"/combo",children:"\u8d2d\u4e70\u5957\u9910"}),"\u3002"]}):0==k?(0,y.jsxs)(u.A,{type:"warning",children:["\u5957\u9910\u5df2\u7ecf\u5230\u671f\uff0c\u670d\u52a1\u5373\u5c06\u505c\u6b62\uff0c\u8d76\u5feb",(0,y.jsx)(f.A,{to:"/combo",children:"\u8d2d\u4e70\u5957\u9910"}),"\u3002"]}):null,(0,y.jsxs)("div",{className:(0,p.A)("space",j.comboAction),children:[(0,y.jsx)(c.Ay,{type:"primary",disabled:s.sum<=0,onClick:()=>S.push(`/traffic?q=${s.id}`),children:"\u8d2d\u4e70\u6d41\u91cf"},"traffic"),o?(0,y.jsx)(c.Ay,{type:"dashed",onClick:()=>(e=>{(0,n.G1)(e.id).then((async s=>{await C.confirm({title:"\u786e\u8ba4\u53d6\u6d88\u5957\u9910\uff1f",icon:(0,y.jsx)(d.A,{}),content:e.started>0&&e.finished>0?(s>0?`\u5927\u7ea6\u8fd8\u6709\u91d1\u989d ${s} \u8fd4\u56de\u60a8\u7684\u8d26\u53f7\u4f59\u989d\u91cc\uff0c`:"\u5df2\u7ecf\u6ca1\u6709\u4f59\u989d\u8fd4\u56de\u5230\u60a8\u7684\u8d26\u53f7\uff0c")+(t?"\u5957\u9910\u670d\u52a1\u5c06\u7ec8\u6b62\u3002":"\u5957\u9910\u5217\u8868\u91cc\u4e0b\u4e00\u4e2a\u5957\u9910\u5c06\u4f1a\u81ea\u52a8\u542f\u7528\u3002"):s>0?`\u8fd8\u6ca1\u6709\u542f\u7528\u7684\u5957\u9910\uff0c\u5957\u9910\u91d1\u989d ${s} \u5c06\u8fd4\u56de\u60a8\u7684\u8d26\u53f7\u4f59\u989d\u91cc\u3002`:"\u6ca1\u6709\u4f59\u989d\u8fd4\u56de\u5230\u60a8\u7684\u8d26\u53f7\u3002"})&&(0,n.R7)(e.id).then((()=>{N.success("\u64cd\u4f5c\u6210\u529f"),i.IG.remove(i.LN.comboList),l(e),w()})).catch((()=>{N.error("\u53d6\u6d88\u5957\u9910\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))})).catch((()=>{N.error("\u83b7\u53d6\u5957\u9910\u6570\u636e\u5931\u8d25")}))})(s),children:"\u53d6\u6d88\u5957\u9910"},"cancel"):null]})]})}},90139:(e,s,t)=>{t.d(s,{A:()=>A});var n=t(78954),i=t(79688),l=t(28073),r=t(86048),a=t(75389),c=t(43229),o=t(79295),d=t(96540),x=t(79700),h=t(26771),j=t(64224),u=t(47082),m=t(16007),f=t(74848);function A(e){let{rule:s="auto",size:t="large",type:A="primary"}=e;const{userInfo:p,setOpen:v}=(0,x.Py)(),{modal:y,message:g}=(0,n.x)(),[b,_]=(0,d.useState)(""),[w,C]=(0,d.useState)(""),N=JSON.parse((0,m.F)(u.A.rule_backup)).map(((e,t)=>({label:"\u590d\u5236\u5907\u7528\u8ba2\u9605\u94fe\u63a5-"+(t+1),key:t,onClick:()=>{const t=(0,h.we)(e,s,p.name,p.combo_hash);C(t),(0,h.lW)(t).then((()=>{g.success("\u590d\u5236\u8ba2\u9605\u94fe\u63a5\u6210\u529f")})).catch((()=>{y.info({title:"\u590d\u5236\u4e0d\u6210\u529f\uff0c\u8bf7\u624b\u52a8\u590d\u5236\u4e0b\u9762\u7684\u5185\u5bb9",content:t})}))}})));return(0,d.useEffect)((()=>{p&&(0,h.Up)().then((e=>{const t=(0,h.we)(e,s,p.name,p.combo_hash);_(t),w||C(t)}))}),[p,s]),p?(0,f.jsxs)("div",{className:"space",children:[(0,f.jsxs)(i.A.Button,{type:A,size:t,icon:(0,f.jsx)(a.A,{}),loading:!b,menu:{items:N},onClick:()=>{C(b),(0,h.lW)(b).then((()=>{g.success("\u590d\u5236\u8ba2\u9605\u94fe\u63a5\u6210\u529f")})).catch((()=>{y.info({title:"\u590d\u5236\u4e0d\u6210\u529f\uff0c\u8bf7\u624b\u52a8\u590d\u5236\u4e0b\u9762\u7684\u5185\u5bb9",content:b})}))},children:[b?(0,f.jsx)(c.A,{}):""," \u590d\u5236\u8ba2\u9605\u94fe\u63a5\u5230\u526a\u8d34\u677f"]}),(0,f.jsx)(l.A,{overlayInnerStyle:{padding:0},content:w?(0,f.jsx)(r.A,{value:w}):(0,f.jsx)(j.A,{}),children:(0,f.jsx)(o.A,{})})]}):(0,f.jsx)("button",{className:"button button--lg button--primary",onClick:()=>{v(x.cA.Login)},children:"\u83b7\u53d6\u8ba2\u9605\u94fe\u63a5"})}},95606:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var n=t(56347),i=t(79700),l=t(44622),r=t(68936),a=t(56289),c=t(52362),o=t(26771),d=t(56952),x=t(55287);const h={grid:"grid_r_Hh"};var j=t(74848);function u(){const{userInfo:e}=(0,i.Py)(),{Grid:s}=d.A;return(0,j.jsxs)(d.A,{title:`\u6b22\u8fce ${e.nickname??e.name}`,extra:(0,j.jsxs)("div",{className:"space",children:[e?.free?null:(0,j.jsx)(a.A,{to:"/order",children:"\u6211\u7684\u8ba2\u5355"}),e?.free?null:(0,j.jsx)(a.A,{to:"/settings",children:"\u4e2a\u4eba\u8bbe\u7f6e"}),(0,j.jsx)(a.A,{to:"/ticket",children:"\u53cd\u9988\u95ee\u9898"})]}),children:[(0,j.jsx)(s,{className:h.grid,children:(0,j.jsxs)("div",{className:"space-v",children:[(0,j.jsx)(x.A,{title:"\u8d26\u53f7\u4f59\u989d",value:(0,o.Nv)(e.coin)}),(0,j.jsx)(a.A,{to:"/coin",children:"\u4f59\u989d\u660e\u7ec6"}),(0,j.jsx)(a.A,{to:"/coin/shop",children:"\u6211\u8981\u5145\u503c"})]})}),(0,j.jsx)(s,{className:h.grid,children:(0,j.jsxs)("div",{className:"space-v",children:[(0,j.jsx)(x.A,{title:"\u53ef\u63d0\u8fd4\u73b0",value:(0,o.Nv)(e.excash)}),(0,j.jsx)(a.A,{to:"/excash",children:"\u8fd4\u73b0\u660e\u7ec6"}),(0,j.jsx)(a.A,{to:"/excash/out",children:"\u6211\u8981\u63d0\u73b0"})]})}),(0,j.jsx)(s,{className:h.grid,children:(0,j.jsxs)("div",{className:"space-v",children:[(0,j.jsx)(x.A,{title:"\u9080\u8bf7\u6d88\u8d39\u603b\u989d",value:(0,o.Nv)(e.exsum)}),(0,j.jsx)(a.A,{to:"/invite/list",children:"\u6d88\u8d39\u660e\u7ec6"}),(0,j.jsx)(a.A,{to:"/invite",children:"\u6211\u8981\u9080\u8bf7"})]})})]})}var m=t(79791),f=t(51643),A=t(75147),p=t(96540),v=t(84926),y=t(11687),g=t(47082),b=t(8532),_=t(55538);const w={up:"\u4e0a\u4f20\u6d41\u91cf",down:"\u4e0b\u8f7d\u6d41\u91cf"},C=e=>{if(!e)return[];const s=[];for(let t=0,n=e.length;t<n;t++){const n=e[t];s.push({name:"down",time:n[0],traffic:n[1]}),s.push({name:"up",time:n[0],traffic:n[2]})}return s};function N(){const{colorMode:e}=(0,b.G)(),[s,t]=(0,p.useState)("day"),[n,i]=(0,p.useState)(void 0),[l,r]=(0,p.useState)(!1),a=()=>{r(!0),(0,m.C6)(s).then((e=>{i(e)})).finally((()=>{r(!1)}))};(0,p.useEffect)(a,[s]);const c=e=>{const t=/0000$/.test(e);return"month"==s?t?"mm\u6708dd\u65e5":"mm\u6708dd\u65e5HH\u65f6":t?"dd\u65e5HH\u65f6":"dd\u65e5HH\u65f6MM\u5206"};return(0,j.jsx)(_.A,{title:"\u6d41\u91cf\u6d88\u8017\u56fe\u8868",extra:(0,j.jsxs)("div",{className:"space",children:[(0,j.jsxs)(f.Ay.Group,{value:s,onChange:e=>{t(e.target.value)},children:[(0,j.jsx)(f.Ay.Button,{value:"day",children:"\u65e5"}),(0,j.jsx)(f.Ay.Button,{value:"week",children:"\u5468"}),(0,j.jsx)(f.Ay.Button,{value:"month",children:"\u6708"})]}),(0,j.jsx)(A.Ay,{loading:l,onClick:a,children:(0,j.jsx)(v.A,{})})]}),children:(0,j.jsx)(y.A,{theme:e,loading:l,data:C(n),isGroup:!0,xField:"time",yField:"traffic",seriesField:"name",dodgePadding:2,columnStyle:{radius:[5,5,0,0]},maxColumnWidth:20,color:g.A.colors,legend:{itemName:{formatter:e=>w[e]},itemValue:{formatter:e=>(0,o.qI)(n.map((s=>s["down"==e?1:2])).reduce(((e,s)=>e+s))),style:{fill:"#777"}}},xAxis:{label:{formatter:e=>(0,o.Ew)(Number(e),"-",c(e.toString()))}},yAxis:{label:{formatter:e=>(0,o.qI)(e)}},tooltip:{title:e=>(0,o.Ew)(Number(e),"-",c(e.toString())),formatter:e=>({name:w[e.name],value:(0,o.qI)(e.traffic)})}})})}var k=t(76091);function I(){const[e,s]=(0,p.useState)(void 0),[t,n]=(0,p.useState)(!1),{userInfo:l,updateUserInfo:r}=(0,i.Py)(),o=e=>{n(!0),(0,m.to)(e).then((e=>{s(e);!(e&&e.length>0)!=!l.combo&&r()})).finally((()=>{n(!1)}))};return(0,p.useEffect)(o,[]),(0,j.jsxs)(_.A,{title:"\u6211\u7684\u5957\u9910",bodyStyle:{padding:0},loading:!e&&t,extra:(0,j.jsxs)("div",{className:"space",children:[(0,j.jsx)(a.A,{to:"/combo/list",children:"\u5957\u9910\u5217\u8868"}),(0,j.jsx)(A.Ay,{loading:t,onClick:()=>{o(!0)},children:(0,j.jsx)(v.A,{})})]}),children:[e&&e.length>0?(0,j.jsx)(k.A,{item:e[0],run:()=>{o(!0)},last:e.length<=1}):null,e&&e.length>1?(0,j.jsx)(c.A,{type:"note",children:(0,j.jsxs)("p",{children:["\u60a8\u8fd8\u6709\u672a\u542f\u7528\u7684\u5957\u9910\uff0c\u8bf7\u70b9\u51fb",(0,j.jsx)(a.A,{to:"/combo/list",children:"\u5957\u9910\u5217\u8868"}),"\u67e5\u770b\u3002"]})}):null]})}var S=t(46190),q=t(14779),E=t(27143);function P(){const{userInfo:e,inited:s}=(0,i.Py)();return s?e&&e.name?(0,j.jsxs)(l.A,{title:`${e.nickname??e.name} \u7684\u4e2a\u4eba\u4e2d\u5fc3`,children:[(0,j.jsx)(E.A,{children:(0,j.jsx)("meta",{name:"robots",content:"noindex,nofollow,noarchive"})}),(0,j.jsx)("main",{children:(0,j.jsx)("div",{className:"container contain-margin",children:(0,j.jsxs)("div",{className:"space-vb",children:[e?.waitpay?(0,j.jsx)(c.A,{type:"warning",children:(0,j.jsxs)("p",{children:["\u60a8\u6709\u672a\u652f\u4ed8\u7684\u8ba2\u5355\uff0c\u8bf7\u53ca\u65f6",(0,j.jsx)(a.A,{to:"/order",children:"\u652f\u4ed8"}),"\u3002"]})}):null,(0,j.jsx)(u,{}),(0,j.jsx)(N,{}),e.combo?(0,j.jsxs)("div",{className:"row-4-8",children:[(0,j.jsxs)("div",{children:[e.combo_label&&"try"==e.combo_label.substring(0,3)?(0,j.jsxs)(c.A,{type:"warning",children:["\u514d\u8d39\u8bd5\u7528\u5957\u9910\u7684\u670d\u52a1\u8282\u70b9\u8f83\u5c11\uff0c\u5982\u9700\u8981\u66f4\u591a\u7684\u670d\u52a1\u8282\u70b9\uff0c \u5efa\u8bae",(0,j.jsx)(a.A,{to:"/combo",children:"\u8d2d\u4e70\u5957\u9910"}),"\u5e76\u5220\u9664\u5f53\u524d\u5957\u9910\u3002"]}):null,(0,j.jsx)(I,{})]}),(0,j.jsx)("div",{className:"space-vb",children:(0,j.jsx)(S.A,{})})]}):(0,j.jsx)(_.A,{title:"\u6211\u7684\u5957\u9910",children:(0,j.jsx)(r.A,{image:r.A.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u4f7f\u7528\u4e2d\u7684\u5957\u9910\uff0c\u8d2d\u4e70\u5957\u9910\u540e\u663e\u793a",children:(0,j.jsxs)("div",{className:"space",children:[(0,j.jsx)(a.A,{to:"/combo",children:"\u8d2d\u4e70\u5957\u9910"}),e.free?null:(0,j.jsx)(a.A,{to:"/combo/finished",children:"\u5df2\u7ed3\u675f\u5957\u9910"})]})})})]})})})]}):(0,j.jsx)(n.rd,{to:"/user/login"}):(0,j.jsx)(q.A,{})}}}]);