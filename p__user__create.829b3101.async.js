(self.webpackChunkdevpn_web=self.webpackChunkdevpn_web||[]).push([[3062],{2603:function(ee,B,e){"use strict";e.d(B,{Z:function(){return U}});var p=e(28991),f=e(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},o=s,_=e(27029),P=function(N,T){return f.createElement(_.Z,(0,p.Z)((0,p.Z)({},N),{},{ref:T,icon:o}))};P.displayName="LockOutlined";var U=f.forwardRef(P)},43504:function(ee,B,e){"use strict";e.d(B,{U:function(){return V}});var p=e(84305),f=e(39559),s=e(28991),o=e(81253),_=e(85893),P=e(78775),U=e(67294),F=e(5894),N=e(32384),T=e.n(N),W=["logo","message","contentStyle","title","subTitle","actions","children"];function V(g){var C,j=g.logo,b=g.message,v=g.contentStyle,A=g.title,E=g.subTitle,H=g.actions,z=g.children,t=(0,o.Z)(g,W),Y=(0,P.YB)(),D=t.submitter===!1?!1:(0,s.Z)((0,s.Z)({searchConfig:{submitText:Y.getMessage("loginForm.submitText","\u767B\u5F55")}},t.submitter),{},{submitButtonProps:(0,s.Z)({size:"large",style:{width:"100%"}},(C=t.submitter)===null||C===void 0?void 0:C.submitButtonProps),render:function(I,Z){var K,$=Z.pop();if(typeof(t==null||(K=t.submitter)===null||K===void 0?void 0:K.render)=="function"){var d,R;return t==null||(d=t.submitter)===null||d===void 0||(R=d.render)===null||R===void 0?void 0:R.call(d,I,Z)}return $}}),M=(0,U.useContext)(f.ZP.ConfigContext),y=M.getPrefixCls("pro-form-login"),m=function(I){return"".concat(y,"-").concat(I)},O=(0,U.useMemo)(function(){return j?typeof j=="string"?(0,_.jsx)("img",{src:j}):j:null},[j]);return(0,_.jsxs)("div",{className:m("container"),children:[(0,_.jsxs)("div",{className:m("top"),children:[A||O?(0,_.jsxs)("div",{className:m("header"),children:[O?(0,_.jsx)("span",{className:m("logo"),children:O}):null,A?(0,_.jsx)("span",{className:m("title"),children:A}):null]}):null,E?(0,_.jsx)("div",{className:m("desc"),children:E}):null]}),(0,_.jsxs)("div",{className:m("main"),style:(0,s.Z)({width:328},v),children:[(0,_.jsxs)(F.A,(0,s.Z)((0,s.Z)({isKeyPressSubmit:!0},t),{},{submitter:D,children:[b,z]})),H?(0,_.jsx)("div",{className:m("other"),children:H}):null]})]})}},5894:function(ee,B,e){"use strict";e.d(B,{A:function(){return D}});var p=e(9715),f=e(55843),s=e(28991),o=e(85893),_=e(88374),P=e(96156),U=e(49111),F=e(19650),N=e(84305),T=e(39559),W=e(28481),V=e(8812),g=e(56725),C=e(53621),j=e(94184),b=e.n(j),v=e(67294),A=e(66758),E=e(2514),H=e(96138),z=v.forwardRef(function(M,y){var m=v.useContext(A.Z),O=m.groupProps,u=(0,s.Z)((0,s.Z)({},O),M),I=u.children,Z=u.collapsible,K=u.defaultCollapsed,$=u.style,d=u.labelLayout,R=u.title,G=R===void 0?M.label:R,X=u.tooltip,k=u.align,w=k===void 0?"start":k,q=u.direction,h=u.size,a=h===void 0?32:h,l=u.titleStyle,c=u.titleRender,n=u.spaceProps,i=u.extra,x=u.autoFocus,r=(0,g.Z)(function(){return K||!1},{value:M.collapsed,onChange:M.onCollapse}),ne=(0,W.Z)(r,2),re=ne[0],ce=ne[1],ve=(0,v.useContext)(T.ZP.ConfigContext),me=ve.getPrefixCls,se=(0,E.zx)(M),fe=se.ColWrapper,ae=se.RowWrapper,J=me("pro-form-group"),le=Z&&(0,o.jsx)(V.Z,{style:{marginRight:8},rotate:re?void 0:90}),ie=(0,o.jsx)(C.Z,{label:le?(0,o.jsxs)("div",{children:[le,G]}):G,tooltip:X}),oe=(0,v.useCallback)(function(S){var Q=S.children;return(0,o.jsx)(F.Z,(0,s.Z)((0,s.Z)({},n),{},{className:b()("".concat(J,"-container"),n==null?void 0:n.className),size:a,align:w,direction:q,style:(0,s.Z)({rowGap:0},n==null?void 0:n.style),children:Q}))},[w,J,q,a,n]),ue=c?c(ie,M):ie,_e=(0,v.useMemo)(function(){var S=[],Q=v.Children.toArray(I).map(function(L,Ee){var te;return v.isValidElement(L)&&(L==null||(te=L.props)===null||te===void 0?void 0:te.hidden)?(S.push(L),null):Ee===0&&v.isValidElement(L)&&x?v.cloneElement(L,(0,s.Z)((0,s.Z)({},L.props),{},{autoFocus:x})):L});return[(0,o.jsx)(ae,{Wrapper:oe,children:Q},"children"),S.length>0?(0,o.jsx)("div",{style:{display:"none"},children:S}):null]},[I,ae,oe,x]),de=(0,W.Z)(_e,2),he=de[0],ge=de[1];return(0,o.jsx)(fe,{children:(0,o.jsxs)("div",{className:b()(J,(0,P.Z)({},"".concat(J,"-twoLine"),d==="twoLine")),style:$,ref:y,children:[ge,(G||X||i)&&(0,o.jsx)("div",{className:"".concat(J,"-title"),style:l,onClick:function(){ce(!re)},children:i?(0,o.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[ue,(0,o.jsx)("span",{onClick:function(Q){return Q.stopPropagation()},children:i})]}):ue}),Z&&re?null:he]})})});z.displayName="ProForm-Group";var t=z,Y=e(27738);function D(M){return(0,o.jsx)(_.I,(0,s.Z)({layout:"vertical",submitter:{render:function(m,O){return O.reverse()}},contentRender:function(m,O){return(0,o.jsxs)(o.Fragment,{children:[m,O]})}},M))}D.Group=t,D.useForm=f.Z.useForm,D.Item=Y.Z,D.useWatch=f.Z.useWatch,D.ErrorList=f.Z.ErrorList,D.Provider=f.Z.Provider,D.useFormInstance=f.Z.useFormInstance},96138:function(){},32384:function(){},37212:function(ee,B,e){"use strict";e.r(B);var p=e(39428),f=e(11849),s=e(3182),o=e(91220),_=e(34792),P=e(48086),U=e(94657),F=e(59271),N=e(89366),T=e(2603),W=e(67294),V=e(43504),g=e(5966),C=e(62305),j=e(73727),b=e(29791),v=e(42122),A=e(86330),E=e.n(A),H=e(64097),z=e(89832),t=e(85893),Y=function(){var M=(0,C.tT)("@@initialState"),y=M.initialState,m=M.setInitialState,O=(0,W.useState)("default"),u=(0,U.Z)(O,2),I=u[0],Z=u[1],K=(0,W.useState)(),$=(0,U.Z)(K,2),d=$[0],R=$[1],G=(0,C.YB)(),X=function(){(0,v.xx)().then(function(a){R(a)}).catch(function(){P.ZP.error("\u83B7\u53D6\u4EBA\u673A\u9A8C\u8BC1\u6570\u636E\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5")})},k=function(a){if(a.length<1||!d){P.ZP.error("\u8BF7\u8FDB\u884C\u4EBA\u673A\u9A8C\u8BC1\u518D\u63D0\u4EA4");return}var l=[],c=(0,o.Z)(a),n;try{for(c.s();!(n=c.n()).done;){var i=n.value;l.push(i.x),l.push(i.y)}}catch(x){c.e(x)}finally{c.f()}Z("check"),(0,v.N$)({dots:l,key:d.key}).then(function(){Z("success")}).catch(function(){Z("error"),P.ZP.error("\u4EBA\u673A\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")})},w=function(){var h=(0,s.Z)((0,p.Z)().mark(function a(){var l,c;return(0,p.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,y==null||(l=y.fetchUserInfo)===null||l===void 0?void 0:l.call(y);case 2:if(c=i.sent,!c){i.next=7;break}return i.next=6,m(function(x){return(0,f.Z)((0,f.Z)({},x),{},{currentUser:c})});case 6:(0,v.gS)().then(function(x){m(function(r){return(0,f.Z)((0,f.Z)({},r),{},{currentUser:x})})});case 7:case"end":return i.stop()}},a)}));return function(){return h.apply(this,arguments)}}(),q=function(){var h=(0,s.Z)((0,p.Z)().mark(function a(l){var c,n,i;return(0,p.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(!(d!=null&&d.key)||I!="success")){r.next=3;break}return P.ZP.error("\u8BF7\u8FDB\u884C\u4EBA\u673A\u9A8C\u8BC1\u518D\u63D0\u4EA4"),r.abrupt("return");case 3:return l.key=d.key,r.prev=4,c=(0,H.e7)(),c&&(l.invite_code=c),l.try=!0,r.next=10,(0,v.r4)(l);case 10:if(n=r.sent,!(n.token&&n.info)){r.next=17;break}return P.ZP.success("\u6CE8\u518C\u6210\u529F\uFF0C\u81EA\u52A8\u83B7\u53D6\u52303\u5C0F\u65F6300M\u6D41\u91CF\u5957\u9910\uFF0C\u9A8C\u8BC1\u90AE\u7BB1\u5C06\u6709\u673A\u4F1A\u518D\u6DFB\u52A07\u59293G\u7684\u6D41\u91CF\u5957\u9910",15),r.next=15,w();case 15:return C.m8.push("/account/settings"),r.abrupt("return");case 17:r.next=21;break;case 19:r.prev=19,r.t0=r.catch(4);case 21:i=G.formatMessage({id:"pages.register.failure",defaultMessage:"\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u66F4\u6362\u7528\u6237\u540D\u91CD\u8BD5\uFF01"}),P.ZP.error(i),Z("default");case 24:case"end":return r.stop()}},a,null,[[4,19]])}));return function(l){return h.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:E().container,children:[(0,t.jsx)(j.rU,{className:E().home,to:"/",title:"\u8FD4\u56DE\u9996\u9875",children:(0,t.jsx)(F.Z,{className:E().icon})}),(0,t.jsx)("div",{className:E().lang,"data-lang":!0,children:C.pD&&(0,t.jsx)(C.pD,{})}),(0,t.jsx)("div",{className:E().content,children:(0,t.jsxs)(V.U,{logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:G.formatMessage({id:"title"}),subTitle:"\u6CE8\u518C\u60A8\u559C\u7231\u7684\u8D26\u53F7",submitter:{searchConfig:{submitText:"\u6CE8\u518C"}},actions:[(0,t.jsx)(j.rU,{className:E().login,to:"/user/login",children:(0,t.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u53F7\u767B\u5F55"})},"login")],onFinish:function(){var h=(0,s.Z)((0,p.Z)().mark(function a(l){return(0,p.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(l);case 2:case"end":return n.stop()}},a)}));return function(a){return h.apply(this,arguments)}}(),children:[(0,t.jsx)(g.Z,{name:"name",fieldProps:{size:"large",prefix:(0,t.jsx)(N.Z,{className:E().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!",rules:[{validator:function(){var h=(0,s.Z)((0,p.Z)().mark(function l(c,n){var i;return(0,p.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("\u8BF7\u8F93\u5165\u7528\u6237\u540D");case 2:if(/^[\w\.\-]{6,24}$/.test(n)){r.next=4;break}throw new Error("\u7528\u6237\u540D\u957F\u5EA6\u57286-24\u4F4D\u4E4B\u95F4\uFF0C\u53EA\u80FD\u662F\u5927\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u5C11\u91CF\u7684\u7B26\u53F7\uFF08.-_\uFF09");case 4:return i=!1,r.prev=5,r.next=8,(0,v.zB)(n);case 8:i=r.sent,r.next=13;break;case 11:r.prev=11,r.t0=r.catch(5);case 13:if(!i){r.next=15;break}throw new Error("\u7528\u6237\u540D\u201C".concat(n,"\u201D\u5DF2\u7ECF\u88AB\u6CE8\u518C\u5566"));case 15:case"end":return r.stop()}},l,null,[[5,11]])}));function a(l,c){return h.apply(this,arguments)}return a}()}]}),(0,t.jsx)(g.Z.Password,{name:"pwd",fieldProps:{size:"large",prefix:(0,t.jsx)(T.Z,{className:E().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{min:6,message:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F"}]}),(0,t.jsx)(g.Z.Password,{name:"confirm",dependencies:["pwd"],fieldProps:{size:"large",prefix:(0,t.jsx)(T.Z,{className:E().prefixIcon})},placeholder:"\u786E\u8BA4\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801"},function(h){var a=h.getFieldValue;return{validator:function(c,n){return!n||a("pwd")===n?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]}),(0,t.jsx)("div",{style:{marginBottom:25},children:(0,t.jsx)(z.Z,{value:I,width:"100%",height:"50px",imageBase64:d==null?void 0:d.image,thumbBase64:d==null?void 0:d.thumb,changeValue:function(a){return Z(a)},confirm:k,refresh:X})})]})}),(0,t.jsx)(b.Z,{})]})};B.default=Y}}]);
