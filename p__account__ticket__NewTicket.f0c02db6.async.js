(self.webpackChunkdevpn_web=self.webpackChunkdevpn_web||[]).push([[7563],{64317:function(G,C,e){"use strict";var l=e(28991),p=e(81253),a=e(85893),s=e(22270),F=e(67294),L=e(66758),i=e(1188),M=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],P=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],D=F.forwardRef(function(r,h){var v=r.fieldProps,O=r.children,I=r.params,j=r.proFieldProps,U=r.mode,Z=r.valueEnum,o=r.request,t=r.showSearch,m=r.options,B=(0,p.Z)(r,M),f=(0,F.useContext)(L.Z);return(0,a.jsx)(i.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,s.h)(Z),request:o,params:I,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:m,mode:U,showSearch:t,getPopupContainer:f.getPopupContainer},v),ref:h,proFieldProps:j},B),{},{children:O}))}),c=F.forwardRef(function(r,h){var v=r.fieldProps,O=r.children,I=r.params,j=r.proFieldProps,U=r.mode,Z=r.valueEnum,o=r.request,t=r.options,m=(0,p.Z)(r,P),B=(0,l.Z)({options:t,mode:U||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},v),f=(0,F.useContext)(L.Z);return(0,a.jsx)(i.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,s.h)(Z),request:o,params:I,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},B),ref:h,proFieldProps:j},m),{},{children:O}))}),u=D,A=c,g=u;g.SearchSelect=A,g.displayName="ProFormComponent",C.Z=g},5966:function(G,C,e){"use strict";var l=e(28991),p=e(81253),a=e(85893),s=e(1188),F=["fieldProps","proFieldProps"],L=["fieldProps","proFieldProps"],i="text",M=function(u){var A=u.fieldProps,g=u.proFieldProps,r=(0,p.Z)(u,F);return(0,a.jsx)(s.Z,(0,l.Z)({valueType:i,fieldProps:A,filedConfig:{valueType:i},proFieldProps:g},r))},P=function(u){var A=u.fieldProps,g=u.proFieldProps,r=(0,p.Z)(u,L);return(0,a.jsx)(s.Z,(0,l.Z)({valueType:"password",fieldProps:A,proFieldProps:g,filedConfig:{valueType:i}},r))},D=M;D.Password=P,D.displayName="ProFormComponent",C.Z=D},90672:function(G,C,e){"use strict";var l=e(28991),p=e(81253),a=e(85893),s=e(67294),F=e(1188),L=["fieldProps","proFieldProps"],i=function(P,D){var c=P.fieldProps,u=P.proFieldProps,A=(0,p.Z)(P,L);return(0,a.jsx)(F.Z,(0,l.Z)({ref:D,valueType:"textarea",fieldProps:c,proFieldProps:u},A))};C.Z=s.forwardRef(i)},952:function(G,C,e){"use strict";var l=e(56640),p=e.n(l),a=e(5894);C.ZP=a.A},5894:function(G,C,e){"use strict";e.d(C,{A:function(){return t}});var l=e(9715),p=e(55843),a=e(28991),s=e(85893),F=e(88374),L=e(96156),i=e(49111),M=e(19650),P=e(84305),D=e(39559),c=e(28481),u=e(8812),A=e(56725),g=e(53621),r=e(94184),h=e.n(r),v=e(67294),O=e(66758),I=e(2514),j=e(96138),U=v.forwardRef(function(m,B){var f=v.useContext(O.Z),S=f.groupProps,E=(0,a.Z)((0,a.Z)({},S),m),V=E.children,w=E.collapsible,k=E.defaultCollapsed,ne=E.style,ae=E.labelLayout,q=E.title,z=q===void 0?m.label:q,H=E.tooltip,X=E.align,ee=X===void 0?"start":X,re=E.direction,se=E.size,te=se===void 0?32:se,le=E.titleStyle,oe=E.titleRender,y=E.spaceProps,T=E.extra,d=E.autoFocus,_=(0,A.Z)(function(){return k||!1},{value:m.collapsed,onChange:m.onCollapse}),x=(0,c.Z)(_,2),n=x[0],N=x[1],$=(0,v.useContext)(D.ZP.ConfigContext),R=$.getPrefixCls,ie=(0,I.zx)(m),W=ie.ColWrapper,J=ie.RowWrapper,Q=R("pro-form-group"),de=w&&(0,s.jsx)(u.Z,{style:{marginRight:8},rotate:n?void 0:90}),_e=(0,s.jsx)(g.Z,{label:de?(0,s.jsxs)("div",{children:[de,z]}):z,tooltip:H}),ve=(0,v.useCallback)(function(b){var Y=b.children;return(0,s.jsx)(M.Z,(0,a.Z)((0,a.Z)({},y),{},{className:h()("".concat(Q,"-container"),y==null?void 0:y.className),size:te,align:ee,direction:re,style:(0,a.Z)({rowGap:0},y==null?void 0:y.style),children:Y}))},[ee,Q,re,te,y]),pe=oe?oe(_e,m):_e,ce=(0,v.useMemo)(function(){var b=[],Y=v.Children.toArray(V).map(function(K,fe){var ue;return v.isValidElement(K)&&(K==null||(ue=K.props)===null||ue===void 0?void 0:ue.hidden)?(b.push(K),null):fe===0&&v.isValidElement(K)&&d?v.cloneElement(K,(0,a.Z)((0,a.Z)({},K.props),{},{autoFocus:d})):K});return[(0,s.jsx)(J,{Wrapper:ve,children:Y},"children"),b.length>0?(0,s.jsx)("div",{style:{display:"none"},children:b}):null]},[V,J,ve,d]),Pe=(0,c.Z)(ce,2),Ee=Pe[0],me=Pe[1];return(0,s.jsx)(W,{children:(0,s.jsxs)("div",{className:h()(Q,(0,L.Z)({},"".concat(Q,"-twoLine"),ae==="twoLine")),style:ne,ref:B,children:[me,(z||H||T)&&(0,s.jsx)("div",{className:"".concat(Q,"-title"),style:le,onClick:function(){N(!n)},children:T?(0,s.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[pe,(0,s.jsx)("span",{onClick:function(Y){return Y.stopPropagation()},children:T})]}):pe}),w&&n?null:Ee]})})});U.displayName="ProForm-Group";var Z=U,o=e(27738);function t(m){return(0,s.jsx)(F.I,(0,a.Z)({layout:"vertical",submitter:{render:function(f,S){return S.reverse()}},contentRender:function(f,S){return(0,s.jsxs)(s.Fragment,{children:[f,S]})}},m))}t.Group=Z,t.useForm=p.Z.useForm,t.Item=o.Z,t.useWatch=p.Z.useWatch,t.ErrorList=p.Z.ErrorList,t.Provider=p.Z.Provider,t.useFormInstance=p.Z.useFormInstance},53621:function(G,C,e){"use strict";var l=e(28991),p=e(22385),a=e(45777),s=e(96156),F=e(84305),L=e(39559),i=e(85893),M=e(68628),P=e(94184),D=e.n(P),c=e(67294),u=e(47369),A=e.n(u),g=function(h){var v=h.label,O=h.tooltip,I=h.ellipsis,j=h.subTitle,U=(0,c.useContext)(L.ZP.ConfigContext),Z=U.getPrefixCls;if(!O&&!j)return(0,i.jsx)(i.Fragment,{children:v});var o=Z("pro-core-label-tip"),t=typeof O=="string"||c.isValidElement(O)?{title:O}:O,m=(t==null?void 0:t.icon)||(0,i.jsx)(M.Z,{});return(0,i.jsxs)("div",{className:o,onMouseDown:function(f){return f.stopPropagation()},onMouseLeave:function(f){return f.stopPropagation()},onMouseMove:function(f){return f.stopPropagation()},children:[(0,i.jsx)("div",{className:D()("".concat(o,"-title"),(0,s.Z)({},"".concat(o,"-title-ellipsis"),I)),children:v}),j&&(0,i.jsx)("div",{className:"".concat(o,"-subtitle"),children:j}),O&&(0,i.jsx)(a.Z,(0,l.Z)((0,l.Z)({},t),{},{children:(0,i.jsx)("span",{className:"".concat(o,"-icon"),children:m})}))]})};C.Z=c.memo(g)},96138:function(){},56640:function(){},47369:function(){},70174:function(G,C,e){"use strict";e.r(C);var l=e(71194),p=e(48889),a=e(58024),s=e(91894),F=e(43185),L=e(35372),i=e(34792),M=e(48086),P=e(39428),D=e(3182),c=e(94657),u=e(92900),A=e(49101),g=e(952),r=e(5966),h=e(64317),v=e(90672),O=e(70844),I=e(67294),j=e(42122),U=e(62305),Z=e(64097),o=e(85893),t=[],m=function(){var f=(0,I.useState)(!1),S=(0,c.Z)(f,2),E=S[0],V=S[1],w=(0,I.useState)(""),k=(0,c.Z)(w,2),ne=k[0],ae=k[1],q=(0,I.useState)([]),z=(0,c.Z)(q,2),H=z[0],X=z[1],ee=function(){return V(!1)},re=function(){var T=(0,D.Z)((0,P.Z)().mark(function d(_){return(0,P.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:ae(_.preview),V(!0);case 2:case"end":return n.stop()}},d)}));return function(_){return T.apply(this,arguments)}}(),se=(0,o.jsxs)("div",{children:[(0,o.jsx)(A.Z,{}),(0,o.jsx)("div",{style:{marginTop:8},children:"\u6DFB\u52A0\u56FE\u7247"})]}),te=function(){var d=u.A.conn().lasturl()||"";X(t.map(function(_){var x=_.split("|"),n=(0,c.Z)(x,3),N=n[0],$=n[1],R=n[2];return{uid:N,ids:_,status:"done",url:(0,Z.pv)(d,"/file/".concat(R||$)),preview:(0,Z.pv)(d,"/file/".concat($))}}))},le=function(d){var _=d.ids,x=t.indexOf(_);x>-1&&t.splice(x,1)},oe=function(){var T=(0,D.Z)((0,P.Z)().mark(function d(_){var x,n,N,$,R;return(0,P.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(x=u.A.conn().token(),x){W.next=4;break}return M.ZP.warn("\u4F1A\u8BDD\u8D85\u65F6\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),W.abrupt("return");case 4:return n=_.file,W.next=7,u.A.conn().url();case 7:if(N=W.sent,N){W.next=11;break}return M.ZP.warn("\u627E\u4E0D\u5230\u670D\u52A1\u5668"),W.abrupt("return");case 11:$="".concat(N,"/up/image/").concat(n.name),R=new XMLHttpRequest,R.open("POST",$),R.setRequestHeader("token",x),R.onreadystatechange=function(){if(R.readyState==4){if(R.status==200){var J=R.responseText;t.indexOf(J)>-1?M.ZP.warn("\u56FE\u7247\u5DF2\u7ECF\u5B58\u5728\u5217\u8868\u4E2D"):t.push(J)}else M.ZP.error("\u4E0A\u4F20\u56FE\u7247\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5");te()}},R.send(n);case 17:case"end":return W.stop()}},d)}));return function(_){return T.apply(this,arguments)}}(),y=function(){var T=(0,D.Z)((0,P.Z)().mark(function d(_){return(0,P.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.length>0&&(_.attach=t),_.origin=(0,Z.Wd)(),n.prev=2,n.next=5,(0,j.s6)(_);case 5:M.ZP.success("\u63D0\u4EA4\u53CD\u9988\u6210\u529F\uFF0C\u6211\u4EEC\u5C06\u4F1A\u572824\u5C0F\u65F6\u5185\u56DE\u590D\u60A8\uFF1B\u5B89\u5168\u8003\u8651\uFF0C\u6211\u4EEC\u53EF\u80FD\u4E0D\u53D1\u9001\u56DE\u590D\u63D0\u9192\u90AE\u4EF6\uFF0C\u8BF7\u5728\u7AD9\u5185\u67E5\u770B\u53CD\u9988\u5185\u5BB9\u3002",15),t.length=0,U.m8.replace("/ticket/list"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),M.ZP.error("\u63D0\u4EA4\u53CD\u9988\u4E0D\u6210\u529F\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5");case 13:case"end":return n.stop()}},d,null,[[2,10]])}));return function(_){return T.apply(this,arguments)}}();return(0,o.jsxs)(O.ZP,{breadcrumb:void 0,content:"\u8BF7\u5C3D\u91CF\u8BE6\u7EC6\u63CF\u8FF0\u5177\u4F53\u539F\u56E0\uFF0C\u4E0D\u7136\u6211\u4EEC\u65E0\u6CD5\u56DE\u7B54\u60A8\u7684\u95EE\u9898\u3002",children:[(0,o.jsx)(s.Z,{children:(0,o.jsxs)(g.ZP,{style:{margin:"auto",marginTop:8,maxWidth:600},name:"basic",layout:"vertical",onFinish:y,children:[(0,o.jsx)(r.Z,{label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53CD\u9988\u95EE\u9898\u6807\u9898"},{max:200,message:"\u53CD\u9988\u95EE\u9898\u6807\u9898\u8FC7\u957F\uFF0C\u8BF7\u7CBE\u7B80\u95EE\u9898\u6807\u9898"}],placeholder:"\u60A8\u9700\u8981\u53CD\u9988\u95EE\u9898\u7684\u6807\u9898"}),(0,o.jsx)(h.Z,{label:"\u64CD\u4F5C\u7CFB\u7EDF",name:"os",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u64CD\u4F5C\u7CFB\u7EDF"}],valueEnum:Z.oU}),(0,o.jsx)(h.Z,{label:"\u8FDE\u63A5\u534F\u8BAE",name:"proto",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8FDE\u63A5\u534F\u8BAE"}],valueEnum:Z.P6}),(0,o.jsx)(v.Z,{label:"\u53CD\u9988\u5185\u5BB9",name:"content",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53CD\u9988\u5185\u5BB9"},{max:1e4,message:"\u5185\u5BB9\u8FC7\u957F\uFF0C\u8BF7\u7CBE\u7B80\u63CF\u8FF0\u5185\u5BB9"}],placeholder:"\u8BF7\u8BE6\u7EC6\u63CF\u8FF0\u53CD\u9988\u5185\u5BB9\uFF0C\u6700\u597D\u80FD\u914D\u4E0A\u76F8\u5173\u7684\u622A\u56FE",fieldProps:{rows:10}}),(0,o.jsx)(L.Z,{name:"attach",accept:"image/jpg,image/jpeg,image/png",listType:"picture-card",fileList:H,onRemove:le,onPreview:re,onChange:function(d){var _=d.fileList;return X(_)},customRequest:oe,children:H.length>=5?null:se})]})}),(0,o.jsx)(p.Z,{visible:E,footer:null,onCancel:ee,children:(0,o.jsx)("img",{style:{width:"100%"},src:ne})})]})};C.default=m}}]);
