<!DOCTYPE html><html lang="cn"><!--<head></head><body></body>--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="keywords" content="得自由, devpn, 分享, 简单"><meta name="description" content="当你有多个设备在家时，要让每个设备都翻墙往往是很麻烦的。电脑上有ssh、vpn等多种方案，而Android上常用goagent，iPhone不越狱的话则只能依赖vpn或APN Proxy。而且这些方案往往在稳定性、流量控制、速度上各有各的问题。于是就有聪明人发明了从路由器级别搞定翻墙的办法。对所有设备透明，稳定，流量耗用小。"><title>路由器刷DD-WRT并设置PPTP方式VPN - 得自由博客</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/e32391becbbb10de0cf633fbfe84a28e.css?6642"><link rel="alternate" type="application/rss+xml" title="得自由博客" href="https://devpn.github.io/feed.xml"><script>function bd(c){for(var r,h,t,n,e,d,o,a="7xPQGUc9,rkZV1aIpBiNCwlRT3tbnHAzvj0WLF2M8Xo4OusYydeEKDSmgfqhJ65.",i=[],u=0,f=String.fromCharCode;u<c.length;)n=a.indexOf(c.charAt(u++)),e=a.indexOf(c.charAt(u++)),d=a.indexOf(c.charAt(u++)),o=a.indexOf(c.charAt(u++)),r=n<<2|e>>4,h=(15&e)<<4|d>>2,t=(3&d)<<6|o,i.push(f(r)),64>d&&d>=0&&i.push(f(h)),64>o&&o>=0&&i.push(f(t));for(var A=i.join(""),p=[],u=0,s=c1=c2=0;u<A.length;)s=A.charCodeAt(u),128>s?(p.push(f(s)),u++):s>191&&224>s?(c2=A.charCodeAt(u+1),p.push(f((31&s)<<6|63&c2)),u+=2):(c2=A.charCodeAt(u+1),c3=A.charCodeAt(u+2),p.push(f((15&s)<<12|(63&c2)<<6|63&c3)),u+=3);return p.join("")}function dw(c){document.write(bd(c))}</script></head><body><div id="info" class="info"><div class="panel about"><h2>关于得自由</h2><p>得自由帮助您突破各样的网络限制，畅快享受自由的网络环境。我们在这里发布得自由最新的资讯，或不可抗力导致官网更换新网址信息。感谢您对得自由的热爱和支持，得自由的官网是 <a href="http://devpn.com/">devpn.com</a>，同时提供可直接访问的新网址。</p></div><div class="panel newurl"><h2>最新网址</h2><a href="http://devpn.info/" target="_blank" class="btn btn-lg">点击访问《得自由》</a></div><div class="panel qrcode"><h2>网址二维码</h2><div id="qrcode"></div></div><div class="panel connect"><h2>联系我们</h2><script>dw("IcGvTSdjnmV6,2rKb0,vt9rF3WK0blUXb9BYa2Fs32673cwSncgsTS6u,WfXb23YpcBFHMxsZ21YbNyYTNg");</script></div></div><div id="primary"><div id="maxwidth"><div class="header"><h1 class="site-title"><a title="得自由博客" href="/"><img src="/img/logo.png">得自由博客</a></h1><div class="home-site"><a href="http://devpn.info/try/" target="_blank" class="bbn">免费试用《得自由》</a></div></div><div class="post"><h1 class="title"><a href="/articles/setting-pptp-in-ddwrt/">路由器刷DD-WRT并设置PPTP方式VPN</a></h1><div class="small"><span class="date">2016年07月12日</span></div><div class="content"><p>当你有多个设备在家时，要让每个设备都翻墙往往是很麻烦的。电脑上有ssh、vpn等多种方案，而Android上常用goagent，iPhone不越狱的话则只能依赖vpn或APN Proxy。而且这些方案往往在稳定性、流量控制、速度上各有各的问题。于是就有聪明人发明了从路由器级别搞定翻墙的办法。对所有设备透明，稳定，流量耗用小。</p><h2 id="-dd-wrt-">哪些路由器可刷DD-WRT固件</h2><p>哪些路由器可刷DD-WRT固件，常见的DD-WRT固件为例子进行介绍，因为DD-WRT（下文简称DD）支持的路由器种类更多一些。具体哪些路由器可以刷DD呢？可以参考官方的硬件支持列表：<a href="http://www.dd-wrt.com/wiki/index.php/Supported_Devices">http://www.dd-wrt.com/wiki/index.php/Supported_Devices</a> 。具体来说主要是Broadcom芯片方案的路由器，其他的例如Atheros的也有支持，但是并不算多，具体还得看列表。能刷DD-WRT固件的官方支持列表支持的路由器品牌方面，国产的TP-Link之类的路由器由于芯片方案的原因不受支持。不过D-link、Linksys、摩托罗拉、贝尔金等路由器是可以使用DD的，而且可以支持DD的路由器在淘宝上面很容易买到（部分是水机），价格也很便宜，便宜的一百多点就可以买到了。要刷DD至少得有2M的Flash和8M的RAM，而且这个配置只能刷Micro版。如果是4M或者8MFlash就可以刷完整版或者增强版的固件了。</p><p>刷新路由器不需要什么特殊设备，电脑一台、网线一根、路由器一台即可，不需要外加什么设备了。而且大部分路由器刷新都可以直接通过Web界面进行，不需要其它刷新工具。</p><p>请注意，一定要看清楚DD支持列表，首先需要了解自己的路由器是否可以支持DD、可以支持何种版本的DD。其次了解刷新方式，如果有特殊说明，一般都会在Special Features/notes、min required DD-WRT version、Notes for Running DD-WRT三项有涉及。例如贝尔金路由器的部分就提到只能使用TFTP方法刷新，否则会把路由器刷成“砖头”哦！</p><h2 id="dd-wrt-">DD-WRT的版本选择和刷机方法</h2><p>可以用路由器自带的Web配置界面刷新，也可以使用TFTP方法刷新。具体使用何种方法，根据路由器的不同请参照DD硬件支持列表选择方法或者在网上看看网友的选择。一般我优先使用Web刷新的方法，毕竟方便性第一。</p><p>大部分路由器都可以这样做。Web方式刷新其实就是路由器设置菜单里面的“更新路由器固件”功能。虽然不是更新同厂的固件，但是也是可以用的，这种升级方式最为方便。</p><p><strong>step 1:</strong> 本文以Linksys最廉价的WRH54G路由器为例子进行说明。很多人都说这么便宜的路由器不能刷DD，其实不对，2M的Flash和8M的RAM还是可以刷Micro版的，核心功能都有了，就是语言包和一些不常用到的功能没有而已。</p><p><strong>step 2</strong> :访问 <a href="http://www.dd-wrt.com/site/support/router-database">http://www.dd-wrt.com/site/support/router-database</a> 搜索<strong>WRH54G</strong>，点击“dd-wrt.v24_micro_WRH54G.bin”下载。同时最好准备一份路由器的原厂固件，以备恢复使用。</p><p><strong>step 3</strong> : 登录Linksys的管理界面→固件升级，点击“浏览”找到下载的DD-WRT固件。这款路由器提供两种升级方式，一种是常规的“升级”，一种是“安全升级”。后者将进入Boot模式将新的固件加载到路由器上，可以避免内存不足而造成的失败。</p><h2 id="-ddw-rt-dmz-">将DDW-RT的防火墙和DMZ功能关闭</h2><ul><li>点击”Security”-“Firewall”，将”SPI Firewall”设置为”Disable”；</li><li>点击”NAT/QoS”-“DMZ”，将”use DMZ”设置为”Disable”；</li><li>点击”Services”-“Services”，将”SSHd”、”SSH TCP Forwarding”、”Password Login”全都设置为”Enable”</li></ul><h2 id="-pptp-">配置PPTP客户端</h2><p>点击”Services”-“VPN”，找到”PPTP Client”，对其进行如下设置：</p><p><img src="/articles/setting-pptp-in-ddwrt/ddwrt-pptp-client.png" alt="配置DD-WRT的PPTP客户端"></p><p>其中，”MPPE Encryption”需要填写成”mppe required,no40,no56,stateless”，然后点击”Save”。到此整个流程就完成了，Enjoy it.</p></div><div class="social-share"></div></div><div class="footer">© 得自由博客 2016 版权所有</div></div></div><script src="/js/ace19e12e9348fc754850660a6a45eb0.js?7634"></script><script>var qrcode=new QRCode(document.getElementById("qrcode"),{width:150,height:150});qrcode.makeCode("http://devpn.info/");</script><script src="/js/31cf0dc0200696dc02d2dec54f6bd3ee.js?7634"></script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-80074029-3","auto"),ga("send","pageview");</script></body></html>